{% load static %}

<head>
  <link rel="stylesheet" href="{% static 'css/navegacao_user.css' %}">

  <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  <!-- <link rel="stylesheet" href="{% static 'css/main.css' %}"> -->
  <link rel="stylesheet" href="{% static 'css/buttons/btn_logout.css' %}">
  <link rel="shortcut icon" href="favicon.png" type="image/png">

  <!-- Bootstrap icons -->
  <link rel="stylesheet" href="{% static 'css/bootstrap-icons.min.css' %}">
  {% block css %}{% endblock css %}
</head>

<header id="header">
  <nav class="links" style="--items: 5;">
    <a href="{% url 'home' %}">Home</a>
    {% if request.user.is_staff %}
      <a href="{% url 'pesquisas_n_aprov' %}">Pesquisas</a>
    {% else %}
      <a href="{% url 'minhas_solic' %}">Minhas solicitações</a>
    {% endif %}
    <a href="{% url 'solic_pesq' %}">Solicitar pesquisa</a>
    <a href="#">Link 4</a>
    <!-- <a href="{% url 'perfil' %}">Perfil</a> -->
    <a href="{% url 'perfil' %}">
      <img src="{% static 'img/img_user_light.png' %}" width="45px">
      {{ request.user.username }}
    </a>
    <span class="line"></span>
  </nav>
</header>

  <!-- Sweat alert local file -->
  <script src="{% static 'js/sweetalert2@11.js' %}"></script>
  <!-- Alert messages in sweet alert -->
  {% if messages %}
    {% for message in messages %}
      {% if 'logged_in' in message.tags %}
          <script>
            const Toast = Swal.mixin({
              toast: true,
              position: "top-end",
              showConfirmButton: false,
              timer: 3000,
              timerProgressBar: true,
              didOpen: (toast) => {
                  toast.onmouseenter = Swal.stopTimer;
                  toast.onmouseleave = Swal.resumeTimer;
              }
            });
              Toast.fire({
              icon: "success",
              title: "{{ message|escapejs }}"
            });
          </script>
      {% endif %}

      {% if not 'logged_in' in message.tags %}
          <script>
            Swal.fire({
            position: "top",
            title: "{% if 'success' in message.tags %}Sucesso!{% else %}Mensagem!{% endif %}",
            icon: "{% if 'success' in message.tags %}success{% elif 'error' in message.tags %}error{% else %}info{% endif %}",
            text: "{{ message|escapejs }}",
            timer: 2500,
            showConfirmButton: false,
            draggable: true,
            backdrop: false
            });
          </script>
      {% endif %}
    {% endfor %}
  {% endif %}

<div class="content container">
  {% block content %}
  {% endblock content %}
</div>

<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
{% block js %}{% endblock js %}